<script src="../node_modules/vue/dist/vue.js"></script>

<script>
const RulesPlugin = {
  install(Vue){
    Vue.mixin({
      created() {
        const rules = this.$options.rules 
        if(rules){
            Object.keys(rules).forEach( key => {
              let {validate,message} = rules[key];
              this.$watch(key,newValue => {
                if(!validate(newValue)){
                  console.log(message);
                  console.log(this.$options)
                }
              })   
              }
           )
        }
      }
    })
  }
}

Vue.use(RulesPlugin);

</script>
